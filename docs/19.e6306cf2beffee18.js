"use strict";(self.webpackChunkngx_security=self.webpackChunkngx_security||[]).push([[19],{8019:(I,a,n)=>{n.r(a),n.d(a,{PermissionsModule:()=>A});var d=n(5362),u=n(4466),c=n(3981),e=n(4650),m=n(5591),h=n(6895),p=n(3848),l=n(3546),P=n(7866);let g=(()=>{class i{set isPermitted(t){this.permission=t,this.updateView()}constructor(t,r,o,x){this.element=t,this.templateRef=r,this.viewContainer=o,this.subject=x,this.permission=null,this.embeddedViewRef=null}ngOnInit(){this.sub=this.subject.permissions$.subscribe(()=>this.updateView())}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}updateView(){this.subject.isPermitted(this.permission)?this.embeddedViewRef||(this.embeddedViewRef=this.viewContainer.createEmbeddedView(this.templateRef)):(this.viewContainer.clear(),this.embeddedViewRef=null)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Rgc),e.Y36(e.s_b),e.Y36(m.Ic))},i.\u0275dir=e.lG2({type:i,selectors:[["","isPermitted",""]],inputs:{isPermitted:"isPermitted"}}),i})(),Z=(()=>{class i{constructor(t,r){this.ref=t,this.subject=r,this.isPermitted=null,this.sub=null}transform(t,r){return t=r||t,this.clear(),this.sub=this.subject.isPermittedAsync(t).subscribe(o=>{this.isPermitted!==o&&(this.isPermitted=o,this.ref.markForCheck())}),this.isPermitted}ngOnDestroy(){this.clear()}clear(){this.isPermitted=null,this.sub&&(this.sub.unsubscribe(),this.sub=null)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.sBO,16),e.Y36(m.Ic,16))},i.\u0275pipe=e.Yjl({name:"isPermitted",type:i,pure:!1}),i})();function f(i,s){1&i&&(e.TgZ(0,"mat-card")(1,"span"),e._uU(2,"Permission is 'printer:xpc4000:configure'"),e.qZA()())}function b(i,s){1&i&&(e.TgZ(0,"mat-card")(1,"span"),e._uU(2,"Permission is 'nas:timeCapsule:write'"),e.qZA()())}const T=[{path:"",component:(()=>{class i{constructor(t){this.subjectPermissionsProvider=t,this.isPermittedDirective="<p *isPermitted=\"'printer:xpc4000:configure'\"></p>",this.isPermittedPipe="<p *ngIf=\"'nas:timeCapsule:write' | isPermitted\"></p>",this.isPermittedPipePoetry="<p *ngIf=\"'user' | isPermitted:'nas:timeCapsule:write'\"></p>",this.permissions="\n[\n  'printer:xpc5000:print',\n  'printer:xpc4000:*',\n  'nas:timeCapsule,fritzbox:read'\n]\n  ",this.firstCard="\n<mat-card *isPermitted=\"'printer:xpc4000:configure'\">\n<span>Permission is 'printer:xpc4000:configure'</span>\n</mat-card>\n",this.secondCard="\n<mat-card *ngIf=\"'user' | isPermitted:'nas:timeCapsule:write'\">\n<span>Permission is 'nas:timeCapsule:write'</span>\n</mat-card>\n"}ngOnInit(){this.update(["printer:xpc5000:print","printer:xpc4000:*","nas:timeCapsule,fritzbox:read"])}update(t){this.subjectPermissionsProvider.update(t),this.subjectPermissionsProvider.apply()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.Ic))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-permissions"]],decls:49,vars:12,consts:[["label","Overview"],[3,"highlight"],["label","Examples"],[4,"isPermitted"],[4,"ngIf"]],template:function(t,r){1&t&&(e.TgZ(0,"mat-tab-group")(1,"mat-tab",0),e._UZ(2,"br")(3,"br"),e.TgZ(4,"h2"),e._uU(5,"Installation"),e.qZA(),e.TgZ(6,"pre"),e._UZ(7,"code",1),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"h2"),e._uU(10,"Usage"),e.qZA(),e.TgZ(11,"h4"),e._uU(12,"Structural directives"),e.qZA(),e.TgZ(13,"pre"),e._UZ(14,"code",1),e.qZA(),e._UZ(15,"br"),e.TgZ(16,"h4"),e._uU(17,"Pipes"),e.qZA(),e.TgZ(18,"pre"),e._UZ(19,"code",1),e.qZA(),e._UZ(20,"br"),e.TgZ(21,"h4"),e._uU(22,"Pipes with poetry"),e.qZA(),e.TgZ(23,"pre"),e._UZ(24,"code",1),e.qZA()(),e.TgZ(25,"mat-tab",2),e._UZ(26,"br")(27,"br"),e.TgZ(28,"h2"),e._uU(29,"Code"),e.qZA(),e.TgZ(30,"h4"),e._uU(31,"Permissions"),e.qZA(),e.TgZ(32,"pre"),e._UZ(33,"code",1),e.qZA(),e.TgZ(34,"h4"),e._uU(35,"In action"),e.qZA(),e.TgZ(36,"pre"),e._UZ(37,"code",1),e.qZA(),e.TgZ(38,"pre"),e._UZ(39,"code",1),e.qZA(),e._UZ(40,"br"),e.TgZ(41,"h2"),e._uU(42,"Result"),e.qZA(),e.TgZ(43,"mat-card")(44,"span"),e._uU(45,"This is card is always visible to all users."),e.qZA()(),e.YNc(46,f,3,0,"mat-card",3),e.YNc(47,b,3,0,"mat-card",4),e.ALo(48,"isPermitted"),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("highlight","npm install --save @ngx-security/core @ngx-security/permissions"),e.xp6(7),e.Q6J("highlight",r.isPermittedDirective),e.xp6(5),e.Q6J("highlight",r.isPermittedPipe),e.xp6(5),e.Q6J("highlight",r.isPermittedPipePoetry),e.xp6(9),e.Q6J("highlight",r.permissions),e.xp6(4),e.Q6J("highlight",r.firstCard),e.xp6(2),e.Q6J("highlight",r.secondCard),e.xp6(7),e.Q6J("isPermitted","printer:xpc4000:configure"),e.xp6(1),e.Q6J("ngIf",e.xi3(48,9,"user","nas:timeCapsule:write")))},dependencies:[h.O5,p.uX,p.SP,l.a8,P.y$,g,Z],changeDetection:0}),i})()}];let y=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.Bz.forChild(T),c.Bz]}),i})(),A=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.m,y,d.l.forChild()]}),i})()}}]);