!function(){"use strict";function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var t=0;t<i.length;t++){var s=i[t];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function t(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}(self.webpackChunkngx_security=self.webpackChunkngx_security||[]).push([[859],{9859:function(i,s,n){n.r(s),n.d(s,{PermissionsModule:function(){return y}});var r,u=n(5362),a=n(4466),c=n(8846),o=n(7716),p=n(5591),h=n(5939),d=n(2343),m=n(3738),l=((r=function(){function i(t,s,n,r){e(this,i),this.element=t,this.templateRef=s,this.viewContainer=n,this.subject=r,this.permission=null,this.embeddedViewRef=null}return t(i,[{key:"isPermitted",set:function(e){this.permission=e,this.updateView()}},{key:"ngOnInit",value:function(){var e=this;this.sub=this.subject.permissions$.subscribe(function(){return e.updateView()})}},{key:"ngOnDestroy",value:function(){this.sub&&this.sub.unsubscribe()}},{key:"updateView",value:function(){this.subject.isPermitted(this.permission)?this.embeddedViewRef||(this.embeddedViewRef=this.viewContainer.createEmbeddedView(this.templateRef)):(this.viewContainer.clear(),this.embeddedViewRef=null)}}]),i}()).\u0275fac=function(e){return new(e||r)(o.Y36(o.SBq),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(p.Ic))},r.\u0275dir=o.lG2({type:r,selectors:[["","isPermitted",""]],inputs:{isPermitted:"isPermitted"}}),r),f=n(8583),g=function(){var i=function(){function i(t,s){e(this,i),this.ref=t,this.subject=s,this.isPermitted=null,this.sub=null}return t(i,[{key:"transform",value:function(e,i){var t=this;return e=i||e,this.clear(),this.sub=this.subject.isPermittedAsync(e).subscribe(function(e){t.isPermitted!==e&&(t.isPermitted=e,t.ref.markForCheck())}),this.isPermitted}},{key:"ngOnDestroy",value:function(){this.clear()}},{key:"clear",value:function(){this.isPermitted=null,this.sub&&(this.sub.unsubscribe(),this.sub=null)}}]),i}();return i.\u0275fac=function(e){return new(e||i)(o.Y36(o.sBO,16),o.Y36(p.Ic,16))},i.\u0275pipe=o.Yjl({name:"isPermitted",type:i,pure:!1}),i}();function Z(e,i){1&e&&(o.TgZ(0,"mat-card"),o.TgZ(1,"span"),o._uU(2,"Permission is 'printer:xpc4000:configure'"),o.qZA(),o.qZA())}function b(e,i){1&e&&(o.TgZ(0,"mat-card"),o.TgZ(1,"span"),o._uU(2,"Permission is 'nas:timeCapsule:write'"),o.qZA(),o.qZA())}var P=[{path:"",component:function(){var i=function(){function i(t){e(this,i),this.subjectPermissionsProvider=t,this.isPermittedDirective="<p *isPermitted=\"'printer:xpc4000:configure'\"></p>",this.isPermittedPipe="<p *ngIf=\"'nas:timeCapsule:write' | isPermitted\"></p>",this.isPermittedPipePoetry="<p *ngIf=\"'user' | isPermitted:'nas:timeCapsule:write'\"></p>",this.permissions="\n[\n  'printer:xpc5000:print',\n  'printer:xpc4000:*',\n  'nas:timeCapsule,fritzbox:read'\n]\n  ",this.firstCard="\n<mat-card *isPermitted=\"'printer:xpc4000:configure'\">\n<span>Permission is 'printer:xpc4000:configure'</span>\n</mat-card>\n",this.secondCard="\n<mat-card *ngIf=\"'user' | isPermitted:'nas:timeCapsule:write'\">\n<span>Permission is 'nas:timeCapsule:write'</span>\n</mat-card>\n"}return t(i,[{key:"ngOnInit",value:function(){this.update(["printer:xpc5000:print","printer:xpc4000:*","nas:timeCapsule,fritzbox:read"])}},{key:"update",value:function(e){this.subjectPermissionsProvider.update(e),this.subjectPermissionsProvider.apply()}}]),i}();return i.\u0275fac=function(e){return new(e||i)(o.Y36(p.Ic))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-permissions"]],decls:49,vars:12,consts:[["label","Overview"],[3,"highlight"],["label","Examples"],[4,"isPermitted"],[4,"ngIf"]],template:function(e,i){1&e&&(o.TgZ(0,"mat-tab-group"),o.TgZ(1,"mat-tab",0),o._UZ(2,"br"),o._UZ(3,"br"),o.TgZ(4,"h2"),o._uU(5,"Installation"),o.qZA(),o.TgZ(6,"pre"),o._UZ(7,"code",1),o.qZA(),o._UZ(8,"br"),o.TgZ(9,"h2"),o._uU(10,"Usage"),o.qZA(),o.TgZ(11,"h4"),o._uU(12,"Structural directives"),o.qZA(),o.TgZ(13,"pre"),o._UZ(14,"code",1),o.qZA(),o._UZ(15,"br"),o.TgZ(16,"h4"),o._uU(17,"Pipes"),o.qZA(),o.TgZ(18,"pre"),o._UZ(19,"code",1),o.qZA(),o._UZ(20,"br"),o.TgZ(21,"h4"),o._uU(22,"Pipes with poetry"),o.qZA(),o.TgZ(23,"pre"),o._UZ(24,"code",1),o.qZA(),o.qZA(),o.TgZ(25,"mat-tab",2),o._UZ(26,"br"),o._UZ(27,"br"),o.TgZ(28,"h2"),o._uU(29,"Code"),o.qZA(),o.TgZ(30,"h4"),o._uU(31,"Permissions"),o.qZA(),o.TgZ(32,"pre"),o._UZ(33,"code",1),o.qZA(),o.TgZ(34,"h4"),o._uU(35,"In action"),o.qZA(),o.TgZ(36,"pre"),o._UZ(37,"code",1),o.qZA(),o.TgZ(38,"pre"),o._UZ(39,"code",1),o.qZA(),o._UZ(40,"br"),o.TgZ(41,"h2"),o._uU(42,"Result"),o.qZA(),o.TgZ(43,"mat-card"),o.TgZ(44,"span"),o._uU(45,"This is card is always visible to all users."),o.qZA(),o.qZA(),o.YNc(46,Z,3,0,"mat-card",3),o.YNc(47,b,3,0,"mat-card",4),o.ALo(48,"isPermitted"),o.qZA(),o.qZA()),2&e&&(o.xp6(7),o.Q6J("highlight","npm install --save @ngx-security/core @ngx-security/permissions"),o.xp6(7),o.Q6J("highlight",i.isPermittedDirective),o.xp6(5),o.Q6J("highlight",i.isPermittedPipe),o.xp6(5),o.Q6J("highlight",i.isPermittedPipePoetry),o.xp6(9),o.Q6J("highlight",i.permissions),o.xp6(4),o.Q6J("highlight",i.firstCard),o.xp6(2),o.Q6J("highlight",i.secondCard),o.xp6(7),o.Q6J("isPermitted","printer:xpc4000:configure"),o.xp6(1),o.Q6J("ngIf",o.xi3(48,9,"user","nas:timeCapsule:write")))},directives:[h.SP,h.uX,d.y$,m.a8,l,f.O5],pipes:[g],styles:[""],changeDetection:0}),i}()}],v=function(){var i=function i(){e(this,i)};return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[c.Bz.forChild(P)],c.Bz]}),i}(),y=function(){var i=function i(){e(this,i)};return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[a.m,v,u.l.forChild()]]}),i}()}}])}();