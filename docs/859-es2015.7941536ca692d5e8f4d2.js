"use strict";(self.webpackChunkngx_security=self.webpackChunkngx_security||[]).push([[859],{9859:function(e,i,t){t.r(i),t.d(i,{PermissionsModule:function(){return P}});var s=t(5362),r=t(4466),n=t(8846),c=t(7716),p=t(5591),a=t(5939),u=t(2343),h=t(3738);let d=(()=>{class e{constructor(e,i,t,s){this.element=e,this.templateRef=i,this.viewContainer=t,this.subject=s,this.permission=null,this.embeddedViewRef=null}set isPermitted(e){this.permission=e,this.updateView()}ngOnInit(){this.sub=this.subject.permissions$.subscribe(()=>this.updateView())}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}updateView(){this.subject.isPermitted(this.permission)?this.embeddedViewRef||(this.embeddedViewRef=this.viewContainer.createEmbeddedView(this.templateRef)):(this.viewContainer.clear(),this.embeddedViewRef=null)}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(c.SBq),c.Y36(c.Rgc),c.Y36(c.s_b),c.Y36(p.Ic))},e.\u0275dir=c.lG2({type:e,selectors:[["","isPermitted",""]],inputs:{isPermitted:"isPermitted"}}),e})();var m=t(8583);let o=(()=>{class e{constructor(e,i){this.ref=e,this.subject=i,this.isPermitted=null,this.sub=null}transform(e,i){return e=i||e,this.clear(),this.sub=this.subject.isPermittedAsync(e).subscribe(e=>{this.isPermitted!==e&&(this.isPermitted=e,this.ref.markForCheck())}),this.isPermitted}ngOnDestroy(){this.clear()}clear(){this.isPermitted=null,this.sub&&(this.sub.unsubscribe(),this.sub=null)}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(c.sBO,16),c.Y36(p.Ic,16))},e.\u0275pipe=c.Yjl({name:"isPermitted",type:e,pure:!1}),e})();function l(e,i){1&e&&(c.TgZ(0,"mat-card"),c.TgZ(1,"span"),c._uU(2,"Permission is 'printer:xpc4000:configure'"),c.qZA(),c.qZA())}function Z(e,i){1&e&&(c.TgZ(0,"mat-card"),c.TgZ(1,"span"),c._uU(2,"Permission is 'nas:timeCapsule:write'"),c.qZA(),c.qZA())}const g=[{path:"",component:(()=>{class e{constructor(e){this.subjectPermissionsProvider=e,this.isPermittedDirective="<p *isPermitted=\"'printer:xpc4000:configure'\"></p>",this.isPermittedPipe="<p *ngIf=\"'nas:timeCapsule:write' | isPermitted\"></p>",this.isPermittedPipePoetry="<p *ngIf=\"'user' | isPermitted:'nas:timeCapsule:write'\"></p>",this.permissions="\n[\n  'printer:xpc5000:print',\n  'printer:xpc4000:*',\n  'nas:timeCapsule,fritzbox:read'\n]\n  ",this.firstCard="\n<mat-card *isPermitted=\"'printer:xpc4000:configure'\">\n<span>Permission is 'printer:xpc4000:configure'</span>\n</mat-card>\n",this.secondCard="\n<mat-card *ngIf=\"'user' | isPermitted:'nas:timeCapsule:write'\">\n<span>Permission is 'nas:timeCapsule:write'</span>\n</mat-card>\n"}ngOnInit(){this.update(["printer:xpc5000:print","printer:xpc4000:*","nas:timeCapsule,fritzbox:read"])}update(e){this.subjectPermissionsProvider.update(e),this.subjectPermissionsProvider.apply()}}return e.\u0275fac=function(i){return new(i||e)(c.Y36(p.Ic))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-permissions"]],decls:49,vars:12,consts:[["label","Overview"],[3,"highlight"],["label","Examples"],[4,"isPermitted"],[4,"ngIf"]],template:function(e,i){1&e&&(c.TgZ(0,"mat-tab-group"),c.TgZ(1,"mat-tab",0),c._UZ(2,"br"),c._UZ(3,"br"),c.TgZ(4,"h2"),c._uU(5,"Installation"),c.qZA(),c.TgZ(6,"pre"),c._UZ(7,"code",1),c.qZA(),c._UZ(8,"br"),c.TgZ(9,"h2"),c._uU(10,"Usage"),c.qZA(),c.TgZ(11,"h4"),c._uU(12,"Structural directives"),c.qZA(),c.TgZ(13,"pre"),c._UZ(14,"code",1),c.qZA(),c._UZ(15,"br"),c.TgZ(16,"h4"),c._uU(17,"Pipes"),c.qZA(),c.TgZ(18,"pre"),c._UZ(19,"code",1),c.qZA(),c._UZ(20,"br"),c.TgZ(21,"h4"),c._uU(22,"Pipes with poetry"),c.qZA(),c.TgZ(23,"pre"),c._UZ(24,"code",1),c.qZA(),c.qZA(),c.TgZ(25,"mat-tab",2),c._UZ(26,"br"),c._UZ(27,"br"),c.TgZ(28,"h2"),c._uU(29,"Code"),c.qZA(),c.TgZ(30,"h4"),c._uU(31,"Permissions"),c.qZA(),c.TgZ(32,"pre"),c._UZ(33,"code",1),c.qZA(),c.TgZ(34,"h4"),c._uU(35,"In action"),c.qZA(),c.TgZ(36,"pre"),c._UZ(37,"code",1),c.qZA(),c.TgZ(38,"pre"),c._UZ(39,"code",1),c.qZA(),c._UZ(40,"br"),c.TgZ(41,"h2"),c._uU(42,"Result"),c.qZA(),c.TgZ(43,"mat-card"),c.TgZ(44,"span"),c._uU(45,"This is card is always visible to all users."),c.qZA(),c.qZA(),c.YNc(46,l,3,0,"mat-card",3),c.YNc(47,Z,3,0,"mat-card",4),c.ALo(48,"isPermitted"),c.qZA(),c.qZA()),2&e&&(c.xp6(7),c.Q6J("highlight","npm install --save @ngx-security/core @ngx-security/permissions"),c.xp6(7),c.Q6J("highlight",i.isPermittedDirective),c.xp6(5),c.Q6J("highlight",i.isPermittedPipe),c.xp6(5),c.Q6J("highlight",i.isPermittedPipePoetry),c.xp6(9),c.Q6J("highlight",i.permissions),c.xp6(4),c.Q6J("highlight",i.firstCard),c.xp6(2),c.Q6J("highlight",i.secondCard),c.xp6(7),c.Q6J("isPermitted","printer:xpc4000:configure"),c.xp6(1),c.Q6J("ngIf",c.xi3(48,9,"user","nas:timeCapsule:write")))},directives:[a.SP,a.uX,u.y$,h.a8,d,m.O5],pipes:[o],styles:[""],changeDetection:0}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[n.Bz.forChild(g)],n.Bz]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.m,b,s.l.forChild()]]}),e})()}}]);