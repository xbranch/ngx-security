(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{jl54:function(e,t,i){"use strict";i.r(t),i.d(t,"PermissionsModule",function(){return g});var s=i("OCPU"),r=i("PCNd"),n=i("tyNb"),b=i("8Cu2"),c=i("fXoL"),a=i("wZkO"),p=i("OtPg"),d=i("Wp6s");let o=(()=>{class e{constructor(e,t,i,s){this.element=e,this.templateRef=t,this.viewContainer=i,this.subject=s,this.permission=null,this.embeddedViewRef=null}set isPermitted(e){this.permission=e,this.updateView()}ngOnInit(){this.sub=this.subject.permissions$.subscribe(()=>this.updateView())}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}updateView(){this.subject.isPermitted(this.permission)?this.embeddedViewRef||(this.embeddedViewRef=this.viewContainer.createEmbeddedView(this.templateRef)):(this.viewContainer.clear(),this.embeddedViewRef=null)}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.l),c.Jb(c.L),c.Jb(c.P),c.Jb(b.b))},e.\u0275dir=c.Eb({type:e,selectors:[["","isPermitted",""]],inputs:{isPermitted:"isPermitted"}}),e})();var u=i("ofXK");let h=(()=>{class e{constructor(e,t){this.ref=e,this.subject=t,this.isPermitted=null,this.sub=null}transform(e,t){return e=t||e,this.clear(),this.sub=this.subject.isPermittedAsync(e).subscribe(e=>{this.isPermitted!==e&&(this.isPermitted=e,this.ref.markForCheck())}),this.isPermitted}ngOnDestroy(){this.clear()}clear(){this.isPermitted=null,this.sub&&(this.sub.unsubscribe(),this.sub=null)}}return e.\u0275fac=function(t){return new(t||e)(c.Ub(),c.Jb(b.b))},e.\u0275pipe=c.Ib({name:"isPermitted",type:e,pure:!1}),e})();function m(e,t){1&e&&(c.Ob(0,"mat-card"),c.Ob(1,"span"),c.tc(2,"Permission is 'printer:xpc4000:configure'"),c.Nb(),c.Nb())}function l(e,t){1&e&&(c.Ob(0,"mat-card"),c.Ob(1,"span"),c.tc(2,"Permission is 'nas:timeCapsule:write'"),c.Nb(),c.Nb())}const P=[{path:"",component:(()=>{class e{constructor(e){this.subjectPermissionsProvider=e,this.isPermittedDirective="<p *isPermitted=\"'printer:xpc4000:configure'\"></p>",this.isPermittedPipe="<p *ngIf=\"'nas:timeCapsule:write' | isPermitted\"></p>",this.isPermittedPipePoetry="<p *ngIf=\"'user' | isPermitted:'nas:timeCapsule:write'\"></p>",this.permissions="\n[\n  'printer:xpc5000:print',\n  'printer:xpc4000:*',\n  'nas:timeCapsule,fritzbox:read'\n]\n  ",this.firstCard="\n<mat-card *isPermitted=\"'printer:xpc4000:configure'\">\n<span>Permission is 'printer:xpc4000:configure'</span>\n</mat-card>\n",this.secondCard="\n<mat-card *ngIf=\"'user' | isPermitted:'nas:timeCapsule:write'\">\n<span>Permission is 'nas:timeCapsule:write'</span>\n</mat-card>\n"}ngOnInit(){this.update(["printer:xpc5000:print","printer:xpc4000:*","nas:timeCapsule,fritzbox:read"])}update(e){this.subjectPermissionsProvider.update(e),this.subjectPermissionsProvider.apply()}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(b.b))},e.\u0275cmp=c.Db({type:e,selectors:[["app-permissions"]],decls:49,vars:12,consts:[["label","Overview"],[3,"highlight"],["label","Examples"],[4,"isPermitted"],[4,"ngIf"]],template:function(e,t){1&e&&(c.Ob(0,"mat-tab-group"),c.Ob(1,"mat-tab",0),c.Kb(2,"br"),c.Kb(3,"br"),c.Ob(4,"h2"),c.tc(5,"Installation"),c.Nb(),c.Ob(6,"pre"),c.Kb(7,"code",1),c.Nb(),c.Kb(8,"br"),c.Ob(9,"h2"),c.tc(10,"Usage"),c.Nb(),c.Ob(11,"h4"),c.tc(12,"Structural directives"),c.Nb(),c.Ob(13,"pre"),c.Kb(14,"code",1),c.Nb(),c.Kb(15,"br"),c.Ob(16,"h4"),c.tc(17,"Pipes"),c.Nb(),c.Ob(18,"pre"),c.Kb(19,"code",1),c.Nb(),c.Kb(20,"br"),c.Ob(21,"h4"),c.tc(22,"Pipes with poetry"),c.Nb(),c.Ob(23,"pre"),c.Kb(24,"code",1),c.Nb(),c.Nb(),c.Ob(25,"mat-tab",2),c.Kb(26,"br"),c.Kb(27,"br"),c.Ob(28,"h2"),c.tc(29,"Code"),c.Nb(),c.Ob(30,"h4"),c.tc(31,"Permissions"),c.Nb(),c.Ob(32,"pre"),c.Kb(33,"code",1),c.Nb(),c.Ob(34,"h4"),c.tc(35,"In action"),c.Nb(),c.Ob(36,"pre"),c.Kb(37,"code",1),c.Nb(),c.Ob(38,"pre"),c.Kb(39,"code",1),c.Nb(),c.Kb(40,"br"),c.Ob(41,"h2"),c.tc(42,"Result"),c.Nb(),c.Ob(43,"mat-card"),c.Ob(44,"span"),c.tc(45,"This is card is always visible to all users."),c.Nb(),c.Nb(),c.sc(46,m,3,0,"mat-card",3),c.sc(47,l,3,0,"mat-card",4),c.Yb(48,"isPermitted"),c.Nb(),c.Nb()),2&e&&(c.zb(7),c.dc("highlight","npm install --save @ngx-security/core @ngx-security/permissions"),c.zb(7),c.dc("highlight",t.isPermittedDirective),c.zb(5),c.dc("highlight",t.isPermittedPipe),c.zb(5),c.dc("highlight",t.isPermittedPipePoetry),c.zb(9),c.dc("highlight",t.permissions),c.zb(4),c.dc("highlight",t.firstCard),c.zb(2),c.dc("highlight",t.secondCard),c.zb(7),c.dc("isPermitted","printer:xpc4000:configure"),c.zb(1),c.dc("ngIf",c.ac(48,9,"user","nas:timeCapsule:write")))},directives:[a.b,a.a,p.b,d.a,o,u.l],pipes:[h],styles:[""],changeDetection:0}),e})()}];let f=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[n.f.forChild(P)],n.f]}),e})(),g=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[r.a,f,s.a.forChild()]]}),e})()}}]);