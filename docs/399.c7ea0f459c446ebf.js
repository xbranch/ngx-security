"use strict";(self.webpackChunkngx_security=self.webpackChunkngx_security||[]).push([[399],{7399:(w,c,r)=>{r.r(c),r.d(c,{PermissionsModule:()=>y});var p=r(8303),h=r(6208),o=r(9810),t=r(9212),a=r(3004),u=r(6814),m=r(4104),d=r(5195),l=r(7326);let g=(()=>{class i{set isPermitted(e){this.permission=e,this.updateView()}constructor(e,s,n,x){this.element=e,this.templateRef=s,this.viewContainer=n,this.subject=x,this.permission=null,this.embeddedViewRef=null}ngOnInit(){this.sub=this.subject.permissions$.subscribe(()=>this.updateView())}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}updateView(){this.subject.isPermitted(this.permission)?this.embeddedViewRef||(this.embeddedViewRef=this.viewContainer.createEmbeddedView(this.templateRef)):(this.viewContainer.clear(),this.embeddedViewRef=null)}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(t.SBq),t.Y36(t.Rgc),t.Y36(t.s_b),t.Y36(a.Ic))};static#i=this.\u0275dir=t.lG2({type:i,selectors:[["","isPermitted",""]],inputs:{isPermitted:"isPermitted"}})}return i})(),P=(()=>{class i{constructor(e,s){this.ref=e,this.subject=s,this.isPermitted=null,this.sub=null}transform(e,s){return e=s||e,this.clear(),this.sub=this.subject.isPermittedAsync(e).subscribe(n=>{this.isPermitted!==n&&(this.isPermitted=n,this.ref.markForCheck())}),this.isPermitted}ngOnDestroy(){this.clear()}clear(){this.isPermitted=null,this.sub&&(this.sub.unsubscribe(),this.sub=null)}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(t.sBO,16),t.Y36(a.Ic,16))};static#i=this.\u0275pipe=t.Yjl({name:"isPermitted",type:i,pure:!1})}return i})();function Z(i,A){1&i&&(t.TgZ(0,"mat-card")(1,"span"),t._uU(2,"Permission is 'printer:xpc4000:configure'"),t.qZA()())}function f(i,A){1&i&&(t.TgZ(0,"mat-card")(1,"span"),t._uU(2,"Permission is 'nas:timeCapsule:write'"),t.qZA()())}const U=[{path:"",component:(()=>{class i{constructor(e){this.subjectPermissionsProvider=e,this.isPermittedDirective="<p *isPermitted=\"'printer:xpc4000:configure'\"></p>",this.isPermittedPipe="<p *ngIf=\"'nas:timeCapsule:write' | isPermitted\"></p>",this.isPermittedPipePoetry="<p *ngIf=\"'user' | isPermitted:'nas:timeCapsule:write'\"></p>",this.permissions="\n[\n  'printer:xpc5000:print',\n  'printer:xpc4000:*',\n  'nas:timeCapsule,fritzbox:read'\n]\n  ",this.firstCard="\n<mat-card *isPermitted=\"'printer:xpc4000:configure'\">\n<span>Permission is 'printer:xpc4000:configure'</span>\n</mat-card>\n",this.secondCard="\n<mat-card *ngIf=\"'user' | isPermitted:'nas:timeCapsule:write'\">\n<span>Permission is 'nas:timeCapsule:write'</span>\n</mat-card>\n"}ngOnInit(){this.update(["printer:xpc5000:print","printer:xpc4000:*","nas:timeCapsule,fritzbox:read"])}update(e){this.subjectPermissionsProvider.update(e),this.subjectPermissionsProvider.apply()}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(a.Ic))};static#i=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-permissions"]],decls:49,vars:12,consts:[["label","Overview"],[3,"highlight"],["label","Examples"],[4,"isPermitted"],[4,"ngIf"]],template:function(s,n){1&s&&(t.TgZ(0,"mat-tab-group")(1,"mat-tab",0),t._UZ(2,"br")(3,"br"),t.TgZ(4,"h2"),t._uU(5,"Installation"),t.qZA(),t.TgZ(6,"pre"),t._UZ(7,"code",1),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"h2"),t._uU(10,"Usage"),t.qZA(),t.TgZ(11,"h4"),t._uU(12,"Structural directives"),t.qZA(),t.TgZ(13,"pre"),t._UZ(14,"code",1),t.qZA(),t._UZ(15,"br"),t.TgZ(16,"h4"),t._uU(17,"Pipes"),t.qZA(),t.TgZ(18,"pre"),t._UZ(19,"code",1),t.qZA(),t._UZ(20,"br"),t.TgZ(21,"h4"),t._uU(22,"Pipes with poetry"),t.qZA(),t.TgZ(23,"pre"),t._UZ(24,"code",1),t.qZA()(),t.TgZ(25,"mat-tab",2),t._UZ(26,"br")(27,"br"),t.TgZ(28,"h2"),t._uU(29,"Code"),t.qZA(),t.TgZ(30,"h4"),t._uU(31,"Permissions"),t.qZA(),t.TgZ(32,"pre"),t._UZ(33,"code",1),t.qZA(),t.TgZ(34,"h4"),t._uU(35,"In action"),t.qZA(),t.TgZ(36,"pre"),t._UZ(37,"code",1),t.qZA(),t.TgZ(38,"pre"),t._UZ(39,"code",1),t.qZA(),t._UZ(40,"br"),t.TgZ(41,"h2"),t._uU(42,"Result"),t.qZA(),t.TgZ(43,"mat-card")(44,"span"),t._uU(45,"This is card is always visible to all users."),t.qZA()(),t.YNc(46,Z,3,0,"mat-card",3)(47,f,3,0,"mat-card",4),t.ALo(48,"isPermitted"),t.qZA()()),2&s&&(t.xp6(7),t.Q6J("highlight","npm install --save @ngx-security/core @ngx-security/permissions"),t.xp6(7),t.Q6J("highlight",n.isPermittedDirective),t.xp6(5),t.Q6J("highlight",n.isPermittedPipe),t.xp6(5),t.Q6J("highlight",n.isPermittedPipePoetry),t.xp6(9),t.Q6J("highlight",n.permissions),t.xp6(4),t.Q6J("highlight",n.firstCard),t.xp6(2),t.Q6J("highlight",n.secondCard),t.xp6(7),t.Q6J("isPermitted","printer:xpc4000:configure"),t.xp6(1),t.Q6J("ngIf",t.xi3(48,9,"user","nas:timeCapsule:write")))},dependencies:[u.O5,m.uX,m.SP,d.a8,l.y$,g,P],changeDetection:0})}return i})()}];let T=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#i=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[o.Bz.forChild(U),o.Bz]})}return i})(),y=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#i=this.\u0275mod=t.oAB({type:i});static#e=this.\u0275inj=t.cJS({imports:[h.m,T,p.l.forChild()]})}return i})()}}]);