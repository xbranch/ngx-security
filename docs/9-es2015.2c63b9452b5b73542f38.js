(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{jl54:function(e,i,t){"use strict";t.r(i);var s=t("OCPU"),r=t("PCNd"),n=t("tyNb"),b=t("8Cu2"),c=t("fXoL"),a=t("wZkO"),p=t("OtPg"),d=t("Wp6s");let o=(()=>{class e{constructor(e,i,t,s){this.element=e,this.templateRef=i,this.viewContainer=t,this.subject=s,this.permission=null,this.embeddedViewRef=null}set isPermitted(e){this.permission=e,this.updateView()}ngOnInit(){this.sub=this.subject.permissions$.subscribe(()=>this.updateView())}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}updateView(){this.subject.isPermitted(this.permission)?this.embeddedViewRef||(this.embeddedViewRef=this.viewContainer.createEmbeddedView(this.templateRef)):(this.viewContainer.clear(),this.embeddedViewRef=null)}}return e.\u0275fac=function(i){return new(i||e)(c.Nb(c.l),c.Nb(c.L),c.Nb(c.O),c.Nb(b.a))},e.\u0275dir=c.Ib({type:e,selectors:[["","isPermitted",""]],inputs:{isPermitted:"isPermitted"}}),e})();var h=t("ofXK");let u=(()=>{class e{constructor(e,i){this.ref=e,this.subject=i,this.isPermitted=null,this.sub=null}transform(e,i){return e=i||e,this.clear(),this.sub=this.subject.isPermittedAsync(e).subscribe(e=>{this.isPermitted!==e&&(this.isPermitted=e,this.ref.markForCheck())}),this.isPermitted}ngOnDestroy(){this.clear()}clear(){this.isPermitted=null,this.sub&&(this.sub.unsubscribe(),this.sub=null)}}return e.\u0275fac=function(i){return new(i||e)(c.Yb(),c.Nb(b.a))},e.\u0275pipe=c.Mb({name:"isPermitted",type:e,pure:!1}),e})();function m(e,i){1&e&&(c.Sb(0,"mat-card"),c.Sb(1,"span"),c.xc(2,"Permission is 'printer:xpc4000:configure'"),c.Rb(),c.Rb())}function l(e,i){1&e&&(c.Sb(0,"mat-card"),c.Sb(1,"span"),c.xc(2,"Permission is 'nas:timeCapsule:write'"),c.Rb(),c.Rb())}const P=[{path:"",component:(()=>{class e{constructor(e){this.subjectPermissionsProvider=e,this.isPermittedDirective="<p *isPermitted=\"'printer:xpc4000:configure'\"></p>",this.isPermittedPipe="<p *ngIf=\"'nas:timeCapsule:write' | isPermitted\"></p>",this.isPermittedPipePoetry="<p *ngIf=\"'user' | isPermitted:'nas:timeCapsule:write'\"></p>",this.permissions="\n[\n  'printer:xpc5000:print',\n  'printer:xpc4000:*',\n  'nas:timeCapsule,fritzbox:read'\n]\n  ",this.firstCard="\n<mat-card *isPermitted=\"'printer:xpc4000:configure'\">\n<span>Permission is 'printer:xpc4000:configure'</span>\n</mat-card>\n",this.secondCard="\n<mat-card *ngIf=\"'user' | isPermitted:'nas:timeCapsule:write'\">\n<span>Permission is 'nas:timeCapsule:write'</span>\n</mat-card>\n"}ngOnInit(){this.update(["printer:xpc5000:print","printer:xpc4000:*","nas:timeCapsule,fritzbox:read"])}update(e){this.subjectPermissionsProvider.update(e),this.subjectPermissionsProvider.apply()}}return e.\u0275fac=function(i){return new(i||e)(c.Nb(b.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-permissions"]],decls:49,vars:12,consts:[["label","Overview"],[3,"highlight"],["label","Examples"],[4,"isPermitted"],[4,"ngIf"]],template:function(e,i){1&e&&(c.Sb(0,"mat-tab-group"),c.Sb(1,"mat-tab",0),c.Ob(2,"br"),c.Ob(3,"br"),c.Sb(4,"h2"),c.xc(5,"Installation"),c.Rb(),c.Sb(6,"pre"),c.Ob(7,"code",1),c.Rb(),c.Ob(8,"br"),c.Sb(9,"h2"),c.xc(10,"Usage"),c.Rb(),c.Sb(11,"h4"),c.xc(12,"Structural directives"),c.Rb(),c.Sb(13,"pre"),c.Ob(14,"code",1),c.Rb(),c.Ob(15,"br"),c.Sb(16,"h4"),c.xc(17,"Pipes"),c.Rb(),c.Sb(18,"pre"),c.Ob(19,"code",1),c.Rb(),c.Ob(20,"br"),c.Sb(21,"h4"),c.xc(22,"Pipes with poetry"),c.Rb(),c.Sb(23,"pre"),c.Ob(24,"code",1),c.Rb(),c.Rb(),c.Sb(25,"mat-tab",2),c.Ob(26,"br"),c.Ob(27,"br"),c.Sb(28,"h2"),c.xc(29,"Code"),c.Rb(),c.Sb(30,"h4"),c.xc(31,"Permissions"),c.Rb(),c.Sb(32,"pre"),c.Ob(33,"code",1),c.Rb(),c.Sb(34,"h4"),c.xc(35,"In action"),c.Rb(),c.Sb(36,"pre"),c.Ob(37,"code",1),c.Rb(),c.Sb(38,"pre"),c.Ob(39,"code",1),c.Rb(),c.Ob(40,"br"),c.Sb(41,"h2"),c.xc(42,"Result"),c.Rb(),c.Sb(43,"mat-card"),c.Sb(44,"span"),c.xc(45,"This is card is always visible to all users."),c.Rb(),c.Rb(),c.wc(46,m,3,0,"mat-card",3),c.wc(47,l,3,0,"mat-card",4),c.dc(48,"isPermitted"),c.Rb(),c.Rb()),2&e&&(c.Cb(7),c.ic("highlight","npm install --save @ngx-security/permissions"),c.Cb(7),c.ic("highlight",i.isPermittedDirective),c.Cb(5),c.ic("highlight",i.isPermittedPipe),c.Cb(5),c.ic("highlight",i.isPermittedPipePoetry),c.Cb(9),c.ic("highlight",i.permissions),c.Cb(4),c.ic("highlight",i.firstCard),c.Cb(2),c.ic("highlight",i.secondCard),c.Cb(7),c.ic("isPermitted","printer:xpc4000:configure"),c.Cb(1),c.ic("ngIf",c.fc(48,9,"user","nas:timeCapsule:write")))},directives:[a.b,a.a,p.a,d.a,o,h.l],pipes:[u],styles:[""],changeDetection:0}),e})()}];let f=(()=>{class e{}return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(i){return new(i||e)},imports:[[n.f.forChild(P)],n.f]}),e})();t.d(i,"PermissionsModule",(function(){return g}));let g=(()=>{class e{}return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(i){return new(i||e)},imports:[[r.a,f,s.a.forChild()]]}),e})()}}]);