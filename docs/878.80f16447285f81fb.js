"use strict";(self.webpackChunkngx_security=self.webpackChunkngx_security||[]).push([[878],{7878:(E,m,r)=>{r.r(m),r.d(m,{PermissionsModule:()=>R});var h=r(1244),d=r(3887),c=r(1021),t=r(4438),a=r(4674),p=r(177),o=r(6850),u=r(5596),l=r(6377);let g=(()=>{class s{set isPermitted(i){this.permission=i,this.updateView()}constructor(i,e,n,k){this.element=i,this.templateRef=e,this.viewContainer=n,this.subject=k,this.permission=null,this.embeddedViewRef=null}ngOnInit(){this.sub=this.subject.permissions$.subscribe(()=>this.updateView())}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}updateView(){this.subject.isPermitted(this.permission)?this.embeddedViewRef||(this.embeddedViewRef=this.viewContainer.createEmbeddedView(this.templateRef)):(this.viewContainer.clear(),this.embeddedViewRef=null)}static#t=this.\u0275fac=function(e){return new(e||s)(t.rXU(t.aKT),t.rXU(t.C4Q),t.rXU(t.c1b),t.rXU(a.mg))};static#s=this.\u0275dir=t.FsC({type:s,selectors:[["","isPermitted",""]],inputs:{isPermitted:"isPermitted"}})}return s})(),P=(()=>{class s{constructor(i,e){this.ref=i,this.subject=e,this.isPermitted=null,this.sub=null}transform(i,e){return i=e||i,this.clear(),this.sub=this.subject.isPermittedAsync(i).subscribe(n=>{this.isPermitted!==n&&(this.isPermitted=n,this.ref.markForCheck())}),this.isPermitted}ngOnDestroy(){this.clear()}clear(){this.isPermitted=null,this.sub&&(this.sub.unsubscribe(),this.sub=null)}static#t=this.\u0275fac=function(e){return new(e||s)(t.rXU(t.gRc,16),t.rXU(a.mg,16))};static#s=this.\u0275pipe=t.EJ8({name:"isPermitted",type:s,pure:!1})}return s})();function f(s,w){1&s&&(t.j41(0,"mat-card")(1,"span"),t.EFF(2,"Permission is 'printer:xpc4000:configure'"),t.k0s()())}function b(s,w){1&s&&(t.j41(0,"mat-card")(1,"span"),t.EFF(2,"Permission is 'nas:timeCapsule:write'"),t.k0s()())}const v=[{path:"",component:(()=>{class s{constructor(i){this.subjectPermissionsProvider=i,this.isPermittedDirective="<p *isPermitted=\"'printer:xpc4000:configure'\"></p>",this.isPermittedPipe="<p *ngIf=\"'nas:timeCapsule:write' | isPermitted\"></p>",this.isPermittedPipePoetry="<p *ngIf=\"'user' | isPermitted:'nas:timeCapsule:write'\"></p>",this.permissions="\n[\n  'printer:xpc5000:print',\n  'printer:xpc4000:*',\n  'nas:timeCapsule,fritzbox:read'\n]\n  ",this.firstCard="\n<mat-card *isPermitted=\"'printer:xpc4000:configure'\">\n  <span>Permission is 'printer:xpc4000:configure'</span>\n</mat-card>\n",this.secondCard="\n<mat-card *ngIf=\"'user' | isPermitted:'nas:timeCapsule:write'\">\n  <span>Permission is 'nas:timeCapsule:write'</span>\n</mat-card>\n"}ngOnInit(){this.update(["printer:xpc5000:print","printer:xpc4000:*","nas:timeCapsule,fritzbox:read"])}update(i){this.subjectPermissionsProvider.update(i),this.subjectPermissionsProvider.apply()}static#t=this.\u0275fac=function(e){return new(e||s)(t.rXU(a.mg))};static#s=this.\u0275cmp=t.VBU({type:s,selectors:[["app-permissions"]],decls:49,vars:19,consts:[["label","Overview"],[3,"highlight","language"],["label","Examples"],[4,"isPermitted"],[4,"ngIf"]],template:function(e,n){1&e&&(t.j41(0,"mat-tab-group")(1,"mat-tab",0),t.nrm(2,"br")(3,"br"),t.j41(4,"h2"),t.EFF(5,"Installation"),t.k0s(),t.j41(6,"pre"),t.nrm(7,"code",1),t.k0s(),t.nrm(8,"br"),t.j41(9,"h2"),t.EFF(10,"Usage"),t.k0s(),t.j41(11,"h4"),t.EFF(12,"Structural directives"),t.k0s(),t.j41(13,"pre"),t.nrm(14,"code",1),t.k0s(),t.nrm(15,"br"),t.j41(16,"h4"),t.EFF(17,"Pipes"),t.k0s(),t.j41(18,"pre"),t.nrm(19,"code",1),t.k0s(),t.nrm(20,"br"),t.j41(21,"h4"),t.EFF(22,"Pipes with poetry"),t.k0s(),t.j41(23,"pre"),t.nrm(24,"code",1),t.k0s()(),t.j41(25,"mat-tab",2),t.nrm(26,"br")(27,"br"),t.j41(28,"h2"),t.EFF(29,"Code"),t.k0s(),t.j41(30,"h4"),t.EFF(31,"Permissions"),t.k0s(),t.j41(32,"pre"),t.nrm(33,"code",1),t.k0s(),t.j41(34,"h4"),t.EFF(35,"In action"),t.k0s(),t.j41(36,"pre"),t.nrm(37,"code",1),t.k0s(),t.j41(38,"pre"),t.nrm(39,"code",1),t.k0s(),t.nrm(40,"br"),t.j41(41,"h2"),t.EFF(42,"Result"),t.k0s(),t.j41(43,"mat-card")(44,"span"),t.EFF(45,"This is card is always visible to all users."),t.k0s()(),t.DNE(46,f,3,0,"mat-card",3)(47,b,3,0,"mat-card",4),t.nI1(48,"isPermitted"),t.k0s()()),2&e&&(t.R7$(7),t.Y8G("highlight","npm install --save @ngx-security/core @ngx-security/permissions")("language","bash"),t.R7$(7),t.Y8G("highlight",n.isPermittedDirective)("language","html"),t.R7$(5),t.Y8G("highlight",n.isPermittedPipe)("language","html"),t.R7$(5),t.Y8G("highlight",n.isPermittedPipePoetry)("language","html"),t.R7$(9),t.Y8G("highlight",n.permissions)("language","typescript"),t.R7$(4),t.Y8G("highlight",n.firstCard)("language","html"),t.R7$(2),t.Y8G("highlight",n.secondCard)("language","html"),t.R7$(7),t.Y8G("isPermitted","printer:xpc4000:configure"),t.R7$(),t.Y8G("ngIf",t.i5U(48,16,"user","nas:timeCapsule:write")))},dependencies:[p.bT,o.mq,o.T8,u.RN,l.f4,g,P],changeDetection:0})}return s})()}];let y=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#s=this.\u0275mod=t.$C({type:s});static#i=this.\u0275inj=t.G2t({imports:[c.iI.forChild(v),c.iI]})}return s})(),R=(()=>{class s{static#t=this.\u0275fac=function(e){return new(e||s)};static#s=this.\u0275mod=t.$C({type:s});static#i=this.\u0275inj=t.G2t({imports:[d.G,y,h.L.forChild()]})}return s})()}}]);